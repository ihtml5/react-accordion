<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#000000">
  <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
  <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
  <link rel="stylesheet" href="https://assets-cdn.github.com/assets/github-81684fd7510dbd0631cf199316b86c30d3741f8600001e7998ec8ec766d6423c.css">
  <link rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-4ba00b1aa0227e4b7a7961544c3b7938afb2720757a471735991ec4475c829e0.css">
  <style>
    .container {
      width: 100%;
    }
  </style>
  <!--<link rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-4ba00b1aa0227e4b7a7961544c3b7938afb2720757a471735991ec4475c829e0.css">-->
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>base-简单易用的快速开发框架</title>
</head>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>
  <div class="base-intro">
    <div id="root"></div>
    <div class="base-detailIntro">
      <div class="container new-discussion-timeline experiment-repo-nav">
        <div class="repository-content">
          <!-- blob contrib key: blob_contributors:v21:f804357215fff1a1771fa110b3b801e0 -->
          <div id="readme" class="readme blob instapaper_body">
            <article class="markdown-body entry-content" itemprop="text">
              <h1>
                <a id="user-content-basejs" class="anchor" href="#basejs" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>
                base.js
              </h1>
              <p>
                <a href="https://github.com/nstartup/base/blob/master/base.png" target="_blank">
                <img src="https://github.com/nstartup/base/raw/master/base.png" alt="" style="max-width:100%;">
                </a>
              </p>
              <h2>
                <a id="user-content-依赖" class="anchor" href="#依赖" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>依赖</h2>
              <ol>
                <li><a href="http://www.jquery.com">jquery</a></li>
                <li><a href="http://www.miniui.com">miniui</a></li>
              </ol>
              <h2>
                <a id="user-content-理念" class="anchor" href="#理念" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>理念</h2>
              <ol>
                <li>底层隔离，不直接依赖具体的框架</li>
                <li>快速沉淀业务中常用的功能</li>
                <li>模块可以自由组合使用</li>
                <li>只需简单修改就可以和其他ui框架一起使用</li>
              </ol>
              <h2>
                <a id="user-content-如何快速构建一个模块" class="anchor" href="#如何快速构建一个模块" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>如何快速构建一个模块</h2>
              <div class="highlight highlight-source-js"><pre> <span class="pl-c"><span class="pl-c">//</span> 模块编写</span>
<span class="pl-k">function</span> <span class="pl-en">ebapDemo</span> (<span class="pl-smi">options</span>) {
    <span class="pl-c"><span class="pl-c">//</span> 简化分析options步骤</span>
    <span class="pl-c"><span class="pl-c">//</span> 比如获取id值可以这样 parseOBK('id', ''); </span>
    <span class="pl-c"><span class="pl-c">//</span> 指的是获取options.id, 如果options.id不存在，则返回空字符串</span>
    <span class="pl-k">var</span> po <span class="pl-k">=</span> <span class="pl-smi">ebapUtils</span>.<span class="pl-en">getAllOptions</span>(options);
    <span class="pl-k">var</span> self <span class="pl-k">=</span> {
        <span class="pl-en">start</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">opts</span>) {
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="pl-k">var</span> dpo<span class="pl-k">=</span> <span class="pl-smi">ebapUtils</span>.<span class="pl-en">genDpo</span>(self, opts, options);
            <span class="pl-c">/*</span>
<span class="pl-c">              dpo('id', '');</span>
<span class="pl-c">              如果opts.id不存在，则判断options.id是否存在，如果不存在，则设置为空字符串默认值</span>
<span class="pl-c">            */</span>
            <span class="pl-k">var</span> tipMsg <span class="pl-k">=</span> <span class="pl-en">dpo</span>(<span class="pl-s"><span class="pl-pds">'</span>tipMsg<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ok<span class="pl-pds">'</span></span>);
            <span class="pl-en">alert</span>(tipMsg);
        }
    }
}
 <span class="pl-c"><span class="pl-c">//</span> 注册模块</span>
 <span class="pl-c"><span class="pl-c">//</span> key, value 形式注册</span>
 <span class="pl-smi">ebapBase</span>.<span class="pl-en">regesiter</span>(<span class="pl-s"><span class="pl-pds">'</span>moduleName<span class="pl-pds">'</span></span>, ebapModuleName)
 <span class="pl-c"><span class="pl-c">//</span> 对象方式注册</span>
 <span class="pl-smi">ebapBase</span>.<span class="pl-en">regesiter</span>({
     <span class="pl-s"><span class="pl-pds">'</span>moduleName<span class="pl-pds">'</span></span><span class="pl-k">:</span> ebapMouduleName
 })</pre></div>
              <h2>
                <a id="user-content-项目中使用方式" class="anchor" href="#项目中使用方式" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>项目中使用方式</h2>
              <ol>
                <li>引入需要的miniui和jquery.js以及基础文件base.js</li>
                <li>命名base.项目名称.js作为当前项目的扩展模块,并引入到当前页面中</li>
                <li>编写当前页面需要的js，书写方式如下:</li>
              </ol>
              <div class="highlight highlight-source-js">
                <pre><span class="pl-c"><span class="pl-c">//</span>初始化实例</span>
<span class="pl-k">var</span> ebapIns <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    settings<span class="pl-k">:</span> {

    },
    deps<span class="pl-k">:</span> [{
        key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>demo<span class="pl-pds">'</span></span>
    }],
    <span class="pl-en">beforeCreate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 默认传入的是组件当前的配置</span>
        <span class="pl-c"><span class="pl-c">//</span> 依赖分析完成，待调用组件模块前</span>
    },
    <span class="pl-en">created</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">comIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 当前的ui组件实例，以miniui为例，指的就是id对应的miniui组件实例</span>
        <span class="pl-c"><span class="pl-c">//</span> 对于没有id的模块，comIns等于模块实例</span>
    },
    <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 已经获取模块，即将返回，在这里可以对模块进行扩展，比如</span>
        moduleIns <span class="pl-k">=</span> <span class="pl-smi">$</span>.<span class="pl-en">extend</span>(<span class="pl-c1">true</span>, moduleIns, {
            <span class="pl-en">search</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
                <span class="pl-c"><span class="pl-c">//</span> 对模块进行扩展</span>
            }
        });
        <span class="pl-c"><span class="pl-c">//</span> 调用依赖模块</span>
        <span class="pl-smi">moduleIns</span>.<span class="pl-smi">moudleDeps</span>.<span class="pl-smi">demo</span>.<span class="pl-c1">start</span>({
            tipMsg<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ccc<span class="pl-pds">'</span></span>
        });
        <span class="pl-k">return</span> moduleIns;
    }
});
<span class="pl-c"><span class="pl-c">//</span> ok 这样一个页面的功能就开发完了</span></pre>
              </div>
              <h2>
                <a id="user-content-api" class="anchor" href="#api" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>API</h2>
              <ol>
                <li id="base-apiGet">
                  <p>ebapBase.get(options)</p>
                  <blockquote>
                    <p>获取某个模块 options {object}</p>
                  </blockquote>
                  <div class="highlight highlight-source-js">
                    <pre>  <span class="pl-c"><span class="pl-c">//</span> id: 主组件的id,</span>
  <span class="pl-c"><span class="pl-c">//</span> key: 模块的关键字</span>
  <span class="pl-c"><span class="pl-c">//</span> name: 会把get方法返回的实例挂载到window中</span>
  <span class="pl-c"><span class="pl-c">//</span> deps: 生命当前模块的依赖模块,</span>
  <span class="pl-c"><span class="pl-c">//</span> settings: 配置当前页面所需要的url,</span>
  <span class="pl-c"><span class="pl-c">//</span> created: 当模块实例被创建时调用</span>
  
<span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
  id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>miniuiid<span class="pl-pds">'</span></span>, 
  key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>form|list|login|modal<span class="pl-pds">'</span></span>, 
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
  deps<span class="pl-k">:</span> [{
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>
  }], 
  settings<span class="pl-k">:</span> {
    <span class="pl-c"><span class="pl-c">//</span> 页面当前的url配置</span>
  },
  <span class="pl-en">beforeCreate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
     <span class="pl-c"><span class="pl-c">//</span> 默认传入的是组件当前的配置</span>
     <span class="pl-c"><span class="pl-c">//</span> 依赖分析完成，待调用组件模块前</span>
 },
 <span class="pl-en">created</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">comIns</span>) {
     <span class="pl-c"><span class="pl-c">//</span> 当前的ui组件实例，以miniui为例，指的就是id对应的miniui组件实例</span>
     <span class="pl-c"><span class="pl-c">//</span> 对于没有id的模块，comIns等于模块实例</span>
 },
 <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
     <span class="pl-c"><span class="pl-c">//</span> 已经获取模块，即将返回，在这里可以对模块进行扩展，比如</span>
     moduleIns <span class="pl-k">=</span> <span class="pl-smi">$</span>.<span class="pl-en">extend</span>(<span class="pl-c1">true</span>, moduleIns, {
         <span class="pl-en">search</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
             <span class="pl-c"><span class="pl-c">//</span> 对模块进行扩展</span>
         }
     });
     <span class="pl-c"><span class="pl-c">//</span> 调用依赖模块</span>
     <span class="pl-smi">moduleIns</span>.<span class="pl-smi">moudleDeps</span>.<span class="pl-smi">demo</span>.<span class="pl-c1">start</span>({
         tipMsg<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ccc<span class="pl-pds">'</span></span>
     });
     <span class="pl-k">return</span> moduleIns;
 }
 });
 </pre>
                  </div>
                </li>
                <li id="base-apiRegesiter">
                  <p>ebapBase.regesiter</p>
                  <blockquote>
                    <p>注册模块进入ebapBase.modules里</p>
                  </blockquote>
                  <div class="highlight highlight-source-js">
                    <pre>  <span class="pl-c"><span class="pl-c">//</span> moduleKey 模块的key</span>
  <span class="pl-c"><span class="pl-c">//</span> module 可以是一个模块函数或者是一个对象，当是对象时，常用于私有模块定义</span>
  <span class="pl-smi">ebapBase</span>.<span class="pl-en">regesiter</span>(moduleKey, <span class="pl-c1">module</span>); </pre>
                  </div>
                </li>
                <li id="base-apiUtils">
                  <p><strong>ebapBase.utils</strong></p>
                  <blockquote>
                    <p>ebapBase的公共函数，供内部和外部调用</p>
                  </blockquote>
                </li>
              </ol>
              <ul>
                <li id="base-support">
                  <p>ebapBase.utils.support</p>
                  <p>判断是否存在某个库，支持某个方法, 如获取mini.open 可以这样写 support('mini', 'open')</p>
                </li>
                <li id="base-setUrls">
                  <p>ebapBase.utils.setUrls (现在已经不建议用了，直接在options的settings配好就可以了)</p>
                  <p>设置urls属性</p>
                </li>
                <li>
                  <p>ebapBase.utils.miniSupport</p>
                  <p>support的方法简写</p>
                </li>
                <li id="base-resetRoot">
                  <p>ebapBase.utils.resetRoot</p>
                  <p>重置root路径,相当于重置了ctx变量的值</p>
                </li>
                <li>
                  <p>ebapBase.utils.getDictLabel</p>
                  <p>获取字典标签</p>
                </li>
                <li id="base-getInstance">
                  <p>ebapBase.utils.getInstance()</p>
                  <p>根据id获取某个miniui实例，使用方法getInstance('id') 或者 get({id: 'miniuiid'})</p>
                </li>
                <li id="base-autoInput">
                  <p>ebapBase.utils.autoInput</p>
                  <p>input文本框自动获取输入，使用方法autoInput($range, params);</p>
                </li>
                <li id="base-perfixPath">
                  <p>ebapBase.utils.prefixPath</p>
                  <p>为路径自动添加根路径</p>
                </li>
                <li id="base-ajax">
                  <p>ebapBase.utils.ajax</p>
                  <p>对$.ajax进行简单的封装，提供一些默认参数, 使用方法和ajax用法相同</p>
                </li>
                <li>
                  <p>ebapBase.utils.actions</p>
                  <p>对一些通用的动作进行封装，比如关闭</p>
                </li>
                <li id="base-extend">
                  <p>ebapBase.utils.extend</p>
                  <p>为当前实例扩展其他属性，常用于扩展功能</p>
                </li>
                <li id="base-eventProxy">
                  <p>ebapBase.utils.eventProxy</p>
                  <p>事件代理 参数可以是一个对象</p>
                  <div class="highlight highlight-source-js">
      <pre>{
    context<span class="pl-k">:</span> <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>...<span class="pl-pds">'</span></span>)容器，在那个范围指定冒泡事件
      <span class="pl-c"><span class="pl-c">//</span> 目标节点的标签名</span>
      tagName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>,
      <span class="pl-c"><span class="pl-c">//</span> 目标节点对应的class名字</span>
      cls<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ebap-edit<span class="pl-pds">'</span></span>,
      <span class="pl-c"><span class="pl-c">//</span> 目标节点的id</span>
      id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
      eventType<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>, <span class="pl-c"><span class="pl-c">//</span> 默认为click事件</span>
    <span class="pl-en">  cb</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">targetInfo</span>) {
       <span class="pl-c"><span class="pl-c">//</span> 这里的targetInfo多了一个dom属性，指向event.target</span>
    }
  }</pre>
                  </div>
                  <p>或者可以是三个参数,具体含义同上 (context, targetInfo, cb, eventType);</p>
                </li>
              </ul>
              <h3>
                <a id="user-content-modules" class="anchor" href="#modules" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>Modules</h3>
              <ol>
                <li id="base-moduleForm"><strong>Form</strong></li>
              </ol>
              <blockquote>
                <p>提供Form界面通用功能</p>
              </blockquote>
              <div class="highlight highlight-source-js">
                <pre>   <span class="pl-k">var</span> ebapForm <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
       id<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">'</span>menuForm<span class="pl-pds">'</span></span>,
       key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>form<span class="pl-pds">'</span></span>
       },
       settings<span class="pl-k">:</span> {
         <span class="pl-c">/*</span>
<span class="pl-c">          save: 用户点击提交或者保存按钮时，提交到后台的地址，</span>
<span class="pl-c">          set： form表单初始化时，获得初始值的地址</span>
<span class="pl-c">         */</span>
         save<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>/sys/menu/save<span class="pl-pds">"</span></span>,
         set<span class="pl-k">:</span>  <span class="pl-s"><span class="pl-pds">"</span>/sys/menu/getMenuById<span class="pl-pds">"</span></span>
       }
	);</pre>
              </div>
              <ul>
                <li>
                  <p>settings</p>
                  <p>form模块需要的各种数据</p>
                </li>
                <li>
                  <p>getData</p>
                  <p>获取表单的数据</p>
                </li>
                <li>
                  <p>setData</p>
                  <p>设置表单的数据</p>
                </li>
                <li>
                  <p>onOk</p>
                  <p>点击确定按钮触发</p>
                </li>
                <li>
                  <p>onCancel</p>
                  <p>点击取消按钮触发</p>
                </li>
              </ul>
              <ol start="2">
                <li id="base-moduleList"><strong>List</strong></li>
              </ol>
              <blockquote>
                <p>提供列表页面通用功能</p>
              </blockquote>
              <div class="highlight highlight-source-js">
                <pre>   <span class="pl-k">var</span> ebapList <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
      id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>treegrid1<span class="pl-pds">'</span></span>,
      key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>,
 &nbsp; &nbsp; &nbsp;showHidden<span class="pl-k">:</span> [{ id<span class="pl-k">:</span> <span class="pl-c1">1</span>, text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>显示<span class="pl-pds">'</span></span> }, { id<span class="pl-k">:</span> <span class="pl-c1">0</span>, text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>隐藏<span class="pl-pds">'</span></span>}],
      settings<span class="pl-k">:</span> {
        <span class="pl-c"><span class="pl-c">//</span> add: 点击新增按钮跳转的页面对应地url</span>
        add<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>,
        <span class="pl-c"><span class="pl-c">//</span> edit: 点击编辑按钮跳转的页面对应地url</span>
        edit<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>,
        <span class="pl-c"><span class="pl-c">//</span> del: 点击删除按钮对应跳转地地址，需加上{ remove: { data: []}}中显示声明地字段</span>
        del<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>
      },
      openCfg<span class="pl-k">:</span> {
        width<span class="pl-k">:</span> <span class="pl-c1">500</span>,
        height<span class="pl-k">:</span> <span class="pl-c1">400</span>,
        add<span class="pl-k">:</span> {
          title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
          <span class="pl-c"><span class="pl-c">//</span> list列表中获取的数据之外的数据</span>
          data<span class="pl-k">:</span> {},
          <span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">context</span>, <span class="pl-smi">deepParseOBK</span>) {
            <span class="pl-c"><span class="pl-c">//</span> context = iframe.contentWindow;</span>
          }
        },
        edit<span class="pl-k">:</span> {
          title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
          <span class="pl-c"><span class="pl-c">//</span> list列表中获取的数据之外的数据</span>
          data<span class="pl-k">:</span> {},
          <span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">context</span>, <span class="pl-smi">deepParseOBK</span>) {
            <span class="pl-c"><span class="pl-c">//</span> context = iframe.contentWindow;</span>
          }
        },
        remove<span class="pl-k">:</span> {
          <span class="pl-c"><span class="pl-c">//</span> 需要拼接到后台的字符</span>
          data<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>version<span class="pl-pds">'</span></span>]
        }
      }
    });</pre>
              </div>
              <ul>
                <li>
                  <p>renderers</p>
                  <p>设置模块需要的url，将url存放到模块的settings里</p>
                </li>
                <li>
                  <p>settings</p>
                </li>
              </ul>
              <div class="highlight highlight-source-js">
                <pre>  settings <span class="pl-k">=</span> {
    add<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>,
    edit<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>,
    del<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>//<span class="pl-pds">'</span></span>
  }</pre>
              </div>
              <ul>
                <li>
                  <p>onDrawCell</p>
                  <p>设置单元格的渲染方式</p>
                </li>
                <li>
                  <p>add(opts)</p>
                  <p>点击新增按钮，调用这个方法</p>
                  <div class="highlight highlight-source-js">
                    <pre>opts <span class="pl-k">=</span> {
  add<span class="pl-k">:</span> {
    title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    data<span class="pl-k">:</span> {},
    <span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {

    }
  }
}</pre>
                  </div>
                </li>
                <li>
                  <p>edit(opts)</p>
                  <p>点击编辑按钮，调用这个方法</p>
                  <div class="highlight highlight-source-js">
                    <pre>  opts <span class="pl-k">=</span> {
    edit<span class="pl-k">:</span> {
      title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
      data<span class="pl-k">:</span> {},
      <span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {

      }
    }
  }</pre>
                  </div>
                </li>
                <li>
                  <p>remove</p>
                  <p>点击删除按钮，调用这个方法</p>
                </li>
              </ul>
              <ol start="3">
                <li id="base-moduleLogin">
                  <p><strong>Login</strong></p>
                  <blockquote>
                    <p>提供对页面登录和退出的通用控制，目前只开发了退出</p>
                  </blockquote>
                </li>
              </ol>
              <ul>
                <li>
                  <p>out</p>
                  <pre><code>当页面session过期时,将框架最外层窗口重置到登录页
</code></pre>
                </li>
              </ul>
              <ol start="4">
                <li id="base-moduleModal">
                  <p><strong>Modal</strong></p>
                  <blockquote>
                    <p>通用弹出窗口</p>
                  </blockquote>
                </li>
              </ol>
              <div class="highlight highlight-source-js">
                <pre>
<span class="pl-k">var</span> customModal <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>,
    tplCfg<span class="pl-k">:</span> {
&nbsp; &nbsp; &nbsp; &nbsp;desc<span class="pl-k">:</span> <span class="pl-smi">resJson</span>.<span class="pl-smi">desc</span>, <span class="pl-c"><span class="pl-c">//</span> 信息描述</span>
&nbsp; &nbsp; &nbsp; &nbsp;detailInfo<span class="pl-k">:</span> <span class="pl-smi">resJson</span>.<span class="pl-smi">detailInfo</span> <span class="pl-c"><span class="pl-c">//</span> 信息详情</span>
    },
    context<span class="pl-k">:</span> <span class="pl-c1">document</span>, <span class="pl-c"><span class="pl-c">//</span> 一般走这个默认值</span>
    selector<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>.ebap-maskContainer<span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">//</span> 一般走这个默认值</span>
  });</pre>
              </div>
              <ul>
                <li>
                  <p>show</p>
                  <p>显示弹窗</p>
                </li>
                <li>
                  <p>hide</p>
                  <p>隐藏弹窗</p>
                </li>
                <li>
                  <p>getState</p>
                  <p>获取当前弹框的状态，便于切换弹窗状态</p>
                </li>
              </ul>
              <ol start="5">
                <li id="base-moduleTabs">
                  <p><strong>Tabs</strong></p>
                  <blockquote>
                    <p>tab页切换</p>
                  </blockquote>
                </li>
              </ol>
              <div class="highlight highlight-source-js">
                <pre>  <span class="pl-k">var</span> customModal <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>tabs<span class="pl-pds">'</span></span>,
    id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>tabsId<span class="pl-pds">'</span></span>
  })</pre>
              </div>
              <ul>
                <li>
                  <p>addTab (tabCfg)</p>
                  <p>增加某个tab</p>
                </li>
                <li>
                  <p>getActiveTab()</p>
                  <p>获取当前激活的tab</p>
                </li>
                <li>
                  <p>getTab(name)</p>
                  <p>按照名字获取某个tab页签</p>
                </li>
                <li>
                  <p>updateTab (tab, tabCfg)</p>
                  <p>更新tab页的信息包括titile，url等</p>
                </li>
                <li>
                  <p>removeTab (name)</p>
                  <p>按照名字移除tab页签</p>
                </li>
                <li>
                  <p>activeTab (name)</p>
                  <p>按照名字激活某个tab页签</p>
                </li>
                <li>
                  <p>on (event,func)</p>
                  <p>为tabs绑定某个事件</p>
                </li>
              </ul>
              <h3>
                <a id="user-content-message" class="anchor" href="#modules" aria-hidden="true">
                  <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                  </svg>
                </a>扩展</h3>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> ebapDemo <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>demo<span class="pl-pds">'</span></span>,
    <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">moduleIns</span>) {
      <span class="pl-c"><span class="pl-c">//</span> 获取主实例</span>
      <span class="pl-k">var</span> mainIns <span class="pl-k">=</span> <span class="pl-smi">moduleIns</span>.<span class="pl-en">getIns</span>();
      <span class="pl-c"><span class="pl-c">//</span> 获取模块依赖</span>
      <span class="pl-k">var</span> moduleDeps <span class="pl-k">=</span> <span class="pl-smi">moduleIns</span>.<span class="pl-smi">moduleDeps</span>;
      <span class="pl-c"><span class="pl-c">//</span> 获取模块原始方法</span>
      <span class="pl-k">var</span> originHide <span class="pl-k">=</span> <span class="pl-smi">moduleIns</span>.<span class="pl-smi">hide</span>;
      <span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-en">extend</span>(moduleIns, {
        <span class="pl-en">hide</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">opts</span>) {
          <span class="pl-c"><span class="pl-c">//</span> 1. 直接替换法</span>
          <span class="pl-k">var</span> dpo <span class="pl-k">=</span> <span class="pl-smi">ebapUtils</span>.<span class="pl-en">genDpo</span>(<span class="pl-c1">this</span>, opts, <span class="pl-smi">moduleIns</span>.<span class="pl-smi">parseOBK</span>);
          <span class="pl-en">dpo</span>([<span class="pl-s"><span class="pl-pds">'</span>hide<span class="pl-pds">'</span></span>], <span class="pl-k">function</span> (<span class="pl-smi">hide</span>) {
            <span class="pl-en">alert</span>(hide);
          });
          <span class="pl-c"><span class="pl-c">//</span> 2. 扩展法</span>
          <span class="pl-smi">moduleIns</span>.<span class="pl-en">hide</span>();
        }
      })
    }
  })</pre></div>
              <h2><a id="user-content-模块之间怎么通信" class="anchor" href="#模块之间怎么通信" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模块之间怎么通信</h2>
<ol>
<li>可以通过依赖的方式进行互相访问</li>
</ol>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> ebapList <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>,
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    settings<span class="pl-k">:</span> {

    },
    deps<span class="pl-k">:</span> [{
        key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>
    }],
    <span class="pl-en">beforeCreate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 默认传入的是组件当前的配置</span>
        <span class="pl-c"><span class="pl-c">//</span> 依赖分析完成，待调用组件模块前</span>
    },
    <span class="pl-en">created</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">comIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 当前的ui组件实例，以miniui为例，指的就是id对应的miniui组件实例</span>
        <span class="pl-c"><span class="pl-c">//</span> 对于没有id的模块，comIns等于模块实例</span>
    },
    <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 已经获取模块，即将返回，在这里可以对模块进行扩展，比如</span>
        <span class="pl-c"><span class="pl-c">//</span> 如果想访问modal模块，可以这样访问</span>
        <span class="pl-k">var</span> modalDeps <span class="pl-k">=</span> <span class="pl-smi">moduleIns</span>.<span class="pl-smi">moduleDeps</span>.<span class="pl-smi">modal</span>;
        <span class="pl-k">return</span> moduleIns;
    }
});</pre></div>
<ol start="2">
<li>通过options.name直接挂载到window下面进行通信</li>
</ol>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> ebapList <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>,
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    settings<span class="pl-k">:</span> {

    },
    name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>,
    deps<span class="pl-k">:</span> [{
        key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>,
        name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>
    }],
    <span class="pl-en">beforeCreate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 默认传入的是组件当前的配置</span>
        <span class="pl-c"><span class="pl-c">//</span> 依赖分析完成，待调用组件模块前</span>
    },
    <span class="pl-en">created</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">comIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 当前的ui组件实例，以miniui为例，指的就是id对应的miniui组件实例</span>
        <span class="pl-c"><span class="pl-c">//</span> 对于没有id的模块，comIns等于模块实例</span>
    },
    <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 已经获取模块，即将返回，在这里可以对模块进行扩展，比如</span>
        <span class="pl-c"><span class="pl-c">//</span> 可以通过window.EBAPLIST$访问list模块，window.EBAPMODAL$访问modal模块</span>
        <span class="pl-k">return</span> moduleIns;
    }
});</pre></div>
<ol start="3">
<li>通过自带的自定义事件on,once,trigger进行通信</li>
</ol>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> ebapList <span class="pl-k">=</span> <span class="pl-smi">ebapBase</span>.<span class="pl-c1">get</span>({
    id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>,
    key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    settings<span class="pl-k">:</span> {

    },
    deps<span class="pl-k">:</span> [{
        key<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>modal<span class="pl-pds">'</span></span>,
        <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
          <span class="pl-c"><span class="pl-c">//</span> modal 绑定隐藏事件</span>
          <span class="pl-smi">moduleIns</span>.<span class="pl-en">_on</span>(<span class="pl-s"><span class="pl-pds">'</span>hide<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> () {
            <span class="pl-smi">moduleIns</span>.<span class="pl-en">hide</span>();
          })
        }
    }],
    <span class="pl-en">beforeCreate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">options</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 默认传入的是组件当前的配置</span>
        <span class="pl-c"><span class="pl-c">//</span> 依赖分析完成，待调用组件模块前</span>
    },
    <span class="pl-en">created</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">comIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 当前的ui组件实例，以miniui为例，指的就是id对应的miniui组件实例</span>
        <span class="pl-c"><span class="pl-c">//</span> 对于没有id的模块，comIns等于模块实例</span>
    },
    <span class="pl-en">mounted</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">moduleIns</span>) {
        <span class="pl-c"><span class="pl-c">//</span> 已经获取模块，即将返回，在这里可以对模块进行扩展，比如</span>
        <span class="pl-c"><span class="pl-c">//</span> 通知modal模块隐藏</span>
        <span class="pl-smi">moduleIns</span>.<span class="pl-en">_trigger</span>(<span class="pl-s"><span class="pl-pds">'</span>hide<span class="pl-pds">'</span></span>);
        <span class="pl-k">var</span> modalDeps <span class="pl-k">=</span> <span class="pl-smi">moduleIns</span>.<span class="pl-smi">moduleDeps</span>.<span class="pl-smi">modal</span>;
        <span class="pl-k">return</span> moduleIns;
    }
});</pre></div>
            </article>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
</body>

</html>